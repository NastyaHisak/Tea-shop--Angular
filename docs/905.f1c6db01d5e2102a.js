"use strict";(self.webpackChunkproject_tea=self.webpackChunkproject_tea||[]).push([[905],{905:(B,m,l)=>{l.r(m),l.d(m,{OrderModule:()=>z});var c=l(6814),d=l(9408),o=l(95),e=l(9468),f=l(7942),v=l(5900);function g(r,u){1&r&&(e.TgZ(0,"div",25),e._uU(1,"Firstname is required."),e.qZA())}function _(r,u){1&r&&(e.TgZ(0,"div",25),e._uU(1,"Firstname is incorrect."),e.qZA())}function h(r,u){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,g,2,0,"div",24),e.YNc(2,_,2,0,"div",24),e.qZA()),2&r){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",null==n.firstName||null==n.firstName.errors?null:n.firstName.errors.required),e.xp6(1),e.Q6J("ngIf",null==n.firstName||null==n.firstName.errors?null:n.firstName.errors.pattern)}}function Z(r,u){1&r&&(e.TgZ(0,"div",25),e._uU(1,"Lastname is required."),e.qZA())}function N(r,u){1&r&&(e.TgZ(0,"div",25),e._uU(1,"Lastname is incorrect."),e.qZA())}function O(r,u){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,Z,2,0,"div",24),e.YNc(2,N,2,0,"div",24),e.qZA()),2&r){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",null==n.lastName||null==n.lastName.errors?null:n.lastName.errors.required),e.xp6(1),e.Q6J("ngIf",null==n.lastName||null==n.lastName.errors?null:n.lastName.errors.pattern)}}function T(r,u){1&r&&(e.TgZ(0,"div",25),e._uU(1,"Phone is required."),e.qZA())}function A(r,u){1&r&&(e.TgZ(0,"div",25),e._uU(1,"Phone is incorrect."),e.qZA())}function q(r,u){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,T,2,0,"div",24),e.YNc(2,A,2,0,"div",24),e.qZA()),2&r){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",null==n.phone||null==n.phone.errors?null:n.phone.errors.required),e.xp6(1),e.Q6J("ngIf",null==n.phone||null==n.phone.errors?null:n.phone.errors.pattern)}}function C(r,u){1&r&&(e.TgZ(0,"div",25),e._uU(1,"Country is required."),e.qZA())}function y(r,u){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,C,2,0,"div",24),e.qZA()),2&r){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",null==n.country||null==n.country.errors?null:n.country.errors.required)}}function x(r,u){1&r&&(e.TgZ(0,"div",25),e._uU(1,"Index is required."),e.qZA())}function b(r,u){1&r&&(e.TgZ(0,"div",25),e._uU(1,"Index is incorrect."),e.qZA())}function F(r,u){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,x,2,0,"div",24),e.YNc(2,b,2,0,"div",24),e.qZA()),2&r){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",null==n.index||null==n.index.errors?null:n.index.errors.required),e.xp6(1),e.Q6J("ngIf",null==n.index||null==n.index.errors?null:n.index.errors.pattern)}}function I(r,u){1&r&&(e.TgZ(0,"div",25),e._uU(1,"Address is required."),e.qZA())}function U(r,u){1&r&&(e.TgZ(0,"div",25),e._uU(1,"Address is incorrect."),e.qZA())}function J(r,u){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,I,2,0,"div",24),e.YNc(2,U,2,0,"div",24),e.qZA()),2&r){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",null==n.address||null==n.address.errors?null:n.address.errors.required),e.xp6(1),e.Q6J("ngIf",null==n.address||null==n.address.errors?null:n.address.errors.pattern)}}function Y(r,u){1&r&&(e.TgZ(0,"div",25),e._uU(1,"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437."),e.qZA())}const Q=[{path:"",component:(()=>{var r;class u{get product(){return this.createOrderForm.get("product")}get comment(){return this.createOrderForm.get("comment")}get firstName(){return this.createOrderForm.get("firstName")}get lastName(){return this.createOrderForm.get("lastName")}get phone(){return this.createOrderForm.get("phone")}get country(){return this.createOrderForm.get("country")}get index(){return this.createOrderForm.get("index")}get address(){return this.createOrderForm.get("address")}constructor(i,t,s,a,S){this.fb=i,this.productService=t,this.activatedRoute=s,this.router=a,this.toast=S,this.isSuccess=!0,this.createOrderForm=this.fb.group({product:[""],comment:[""],firstName:["",[o.kI.required,o.kI.pattern("^[a-zA-z\u0430-\u044f\u0410-\u042f]+$")]],lastName:["",[o.kI.required,o.kI.pattern("^[a-zA-z\u0430-\u044f\u0410-\u042f]+$")]],phone:["",[o.kI.required,o.kI.pattern("^\\+?[0-9]{11}$")]],country:["",[o.kI.required]],index:["",[o.kI.required,o.kI.pattern("^\\d{6}$")]],address:["",[o.kI.required,o.kI.pattern("^[a-zA-z\u0430-\u044f\u0410-\u042f0-9\\s\\-/]+$")]]}),this.subscription=null,this.formValues={firstName:"",lastName:"",phone:"",country:"",index:"",product:"",address:"",comment:""}}ngOnInit(){this.subscription=this.activatedRoute.queryParams.subscribe(i=>{i.product&&(this.formValues.product=i.product)})}createOrder(){this.productService.createOrder({name:this.createOrderForm.value.firstName,last_name:this.createOrderForm.value.lastName,phone:this.createOrderForm?.value.phone,country:this.createOrderForm.value.country,zip:this.createOrderForm.value.index,product:this.createOrderForm.value.product,address:this.createOrderForm.value.address,comment:this.createOrderForm.value.comment}).subscribe(i=>{i.success&&!i.message?(this.isSuccess=!0,this.router.navigate(["/products"]),this.toast.success("\u0421\u043f\u0430\u0441\u0438\u0431\u043e \u0437\u0430 \u0437\u0430\u043a\u0430\u0437!",{duration:3500})):(this.isSuccess=!1,this.toast.error("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430!",{duration:3500}))}),this.createOrderForm.reset()}ngOnDestroy(){this.subscription?.unsubscribe()}}return(r=u).\u0275fac=function(i){return new(i||r)(e.Y36(o.qu),e.Y36(f.M),e.Y36(d.gz),e.Y36(d.F0),e.Y36(v.jE))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-order"]],decls:47,vars:10,consts:[[1,"order"],["id","orderForm",1,"container","form-inner","mb-5","col-xl-5"],[1,"fs-2","fw-bold","text-center","mb-5"],[1,"needs-validation","container-sm","col-xl-10",3,"formGroup","ngSubmit"],[1,"row","gx-4","gy-2"],[1,"col-lg-6"],["for","country",1,"form-label"],["type","text","id","product-order","formControlName","product",1,"form-control",3,"ngModel","ngModelChange"],["for","index",1,"form-label"],["type","text","id","comment","name","comment","formControlName","comment",1,"form-control"],[1,"col-lg-4"],["for","firstName",1,"form-label"],["type","text","id","firstName","formControlName","firstName",1,"form-control"],[4,"ngIf"],["for","lastName",1,"form-label"],["type","text","id","lastName","formControlName","lastName",1,"form-control"],["for","phone",1,"form-label"],["type","text","id","phone","formControlName","phone",1,"form-control"],["type","text","id","country","formControlName","country",1,"form-control"],["type","text","id","index","formControlName","index",1,"form-control"],[1,"col-lg-12"],["for","address",1,"form-label"],["type","text","id","address","formControlName","address",1,"form-control"],["id","orderBtn",1,"btn","btn-primary","bg-primary","border-primary","mt-3","hvr-fade",3,"disabled"],["class","text-danger invalid-feedback",4,"ngIf"],[1,"text-danger","invalid-feedback"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3,"\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u0437\u0430\u043a\u0430\u0437"),e.qZA(),e.TgZ(4,"form",3),e.NdJ("ngSubmit",function(){return t.createOrder()}),e.TgZ(5,"div",4)(6,"div",5)(7,"label",6),e._uU(8,"\u0422\u043e\u0432\u0430\u0440"),e.qZA(),e.TgZ(9,"input",7),e.NdJ("ngModelChange",function(a){return t.formValues.product=a}),e.qZA()(),e.TgZ(10,"div",5)(11,"label",8),e._uU(12,"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043a \u0437\u0430\u043a\u0430\u0437\u0443"),e.qZA(),e._UZ(13,"input",9),e.qZA(),e.TgZ(14,"div",10)(15,"label",11),e._uU(16,"\u0418\u043c\u044f"),e.qZA(),e._UZ(17,"input",12),e.YNc(18,h,3,2,"div",13),e.qZA(),e.TgZ(19,"div",10)(20,"label",14),e._uU(21,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"),e.qZA(),e._UZ(22,"input",15),e.YNc(23,O,3,2,"div",13),e.qZA(),e.TgZ(24,"div",10)(25,"label",16),e._uU(26,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"),e.qZA(),e._UZ(27,"input",17),e.YNc(28,q,3,2,"div",13),e.qZA(),e.TgZ(29,"div",5)(30,"label",6),e._uU(31,"\u0421\u0442\u0440\u0430\u043d\u0430"),e.qZA(),e._UZ(32,"input",18),e.YNc(33,y,2,1,"div",13),e.qZA(),e.TgZ(34,"div",5)(35,"label",8),e._uU(36,"\u0418\u043d\u0434\u0435\u043a\u0441"),e.qZA(),e._UZ(37,"input",19),e.YNc(38,F,3,2,"div",13),e.qZA(),e.TgZ(39,"div",20)(40,"label",21),e._uU(41,"\u0410\u0434\u0440\u0435\u0441"),e.qZA(),e._UZ(42,"input",22),e.YNc(43,J,3,2,"div",13),e.qZA()(),e.TgZ(44,"button",23),e._uU(45,"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"),e.qZA(),e.YNc(46,Y,2,0,"div",24),e.qZA()()()),2&i&&(e.xp6(4),e.Q6J("formGroup",t.createOrderForm),e.xp6(5),e.Q6J("ngModel",t.formValues.product),e.xp6(9),e.Q6J("ngIf",(null==t.firstName?null:t.firstName.invalid)&&((null==t.firstName?null:t.firstName.dirty)||(null==t.firstName?null:t.firstName.touched))),e.xp6(5),e.Q6J("ngIf",(null==t.lastName?null:t.lastName.invalid)&&((null==t.lastName?null:t.lastName.dirty)||(null==t.lastName?null:t.lastName.touched))),e.xp6(5),e.Q6J("ngIf",(null==t.phone?null:t.phone.invalid)&&((null==t.phone?null:t.phone.dirty)||(null==t.phone?null:t.phone.touched))),e.xp6(5),e.Q6J("ngIf",(null==t.country?null:t.country.invalid)&&((null==t.country?null:t.country.dirty)||(null==t.country?null:t.country.touched))),e.xp6(5),e.Q6J("ngIf",(null==t.index?null:t.index.invalid)&&((null==t.index?null:t.index.dirty)||(null==t.index?null:t.index.touched))),e.xp6(5),e.Q6J("ngIf",(null==t.address?null:t.address.invalid)&&((null==t.address?null:t.address.dirty)||(null==t.address?null:t.address.touched))),e.xp6(1),e.Q6J("disabled",t.createOrderForm.invalid||t.createOrderForm.disabled),e.xp6(2),e.Q6J("ngIf",!t.isSuccess))},dependencies:[c.O5,o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u]}),u})()}];let p=(()=>{var r;class u{}return(r=u).\u0275fac=function(i){return new(i||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[d.Bz.forChild(Q),d.Bz]}),u})();var M=l(6208);let z=(()=>{var r;class u{}return(r=u).\u0275fac=function(i){return new(i||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[c.ez,d.Bz,M.m,o.u5,o.UX,p,p]}),u})()}}]);